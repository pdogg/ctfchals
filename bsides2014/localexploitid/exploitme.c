#include <stdlib.h>
#include <stdio.h>
#include <string.h>

int executethestuff() {
  char idstring[1024];
  
  FILE* f = popen("id","r");
  fgets(idstring, sizeof(idstring), f);
  printf("Is that how you're gonna be this guy: %s ???", idstring);
  
}

int getstring(char *source) {
    char target[50];
    char string[50];
    
    strncpy(string, source, sizeof(string));
    strcpy(target, "mainstartlibc");
   
    if (strcmp(string, target))
      return 0;
    else
      return 1;
}


int main(int argc, char **argv) {
  
  if(argc != 2 ) {
    printf("Come on! I need an argument!\n");
    return 0;
  }
  
  int thereturn = getstring(argv[1]);
  
  printf("Is that all you got? I heard you can exploit!\n");
  
  if (thereturn)
    executethestuff();
    
 
  return 1;
  
}
